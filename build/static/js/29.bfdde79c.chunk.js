(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{2732:function(e,a,t){},2751:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),i=t(25),o=t(1430),s=t(193),c=t(32),m=t(13),b=(t(2732),t(104)),u=t(12),d=t(1),g=t(4),p=t(90),v=t(163);a.default=function(e){var a=e.context.history,t=localStorage.getItem("lastLogin")||"",n=Object(d.k)(t,!0),w=Object(d.k)("");return l.a.createElement("div",{id:"loginPage",className:"container container--centerlize"},l.a.createElement("div",null,l.a.createElement("h1",null,"Login"),l.a.createElement(s.a,null,l.a.createElement(r.b,{mutation:b.b,refetchQueries:[{query:u.eb}]},function(e,t){var r=t.loading;return l.a.createElement("form",{onSubmit:function(t){r||(t.preventDefault(),n.isValid?w.isValid?p.a.query({query:u.A,variables:{email:n.value,password:w.value}}).then(function(t){var l=t.data.EmailSignIn,r=l.ok,o=l.token,s=l.error;r&&o&&(e({variables:{token:o}}),localStorage.setItem("lastLogin",n.value),a.replace("/dashboard")),s&&(console.error(s),"Wrong Password"===s?i.toast.warn(Object(d.b)("passwords_do_not_match")):i.toast.warn(Object(d.b)("cant_find_this_email")))}):i.toast.warn(Object(d.b)("invalid_password")):i.toast.warn(Object(d.b)("username_must_be_email")))}},l.a.createElement(v.a,{loading:r}),l.a.createElement("div",null,l.a.createElement(c.a,Object.assign({},n,{validation:g.h.isEmail,label:"Email"}))),l.a.createElement("div",null,l.a.createElement(c.a,Object.assign({},w,{validation:g.h.isPassword,type:"password",label:"Password"}))),l.a.createElement(m.a,{type:"submit",thema:"primary",label:Object(d.b)("login")}),l.a.createElement(o.a,{to:"/signUp"},l.a.createElement(m.a,{thema:"primary",label:Object(d.b)("signUp")})))}))))}}}]);