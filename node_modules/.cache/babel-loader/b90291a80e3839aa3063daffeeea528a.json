{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectDestructuringEmpty from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\src\\\\pages\\\\bookingHost\\\\assig\\\\components\\\\tooltips\\\\CanvasMenuTooltip.tsx\";\nimport React from \"react\";\nimport Button from \"../../../../../atoms/button/Button\";\nimport { LANG } from \"../../../../../hooks/hook\";\n\nvar CanvasMenuTooltip = function CanvasMenuTooltip(_ref) {\n  _objectDestructuringEmpty(_ref.assigHooks);\n\n  var _ref$assigUtils = _ref.assigUtils,\n      hilightGuestBlock = _ref$assigUtils.hilightGuestBlock,\n      changeMarkToGhost = _ref$assigUtils.changeMarkToGhost,\n      addBlock = _ref$assigUtils.addBlock,\n      getInfoesFromMarks = _ref$assigUtils.getInfoesFromMarks,\n      startBookingModalWithMark = _ref$assigUtils.startBookingModalWithMark,\n      allTooltipsHide = _ref$assigUtils.allTooltipsHide;\n\n  var _getInfoesFromMarks = getInfoesFromMarks(),\n      groupIds = _getInfoesFromMarks.groupIds,\n      end = _getInfoesFromMarks.end,\n      start = _getInfoesFromMarks.start;\n\n  var bookingCallBack =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(result) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(result === \"error\")) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              if (result.bookingTransaction) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              if (result.bookingTransaction.booking) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 6:\n              _context.next = 8;\n              return changeMarkToGhost();\n\n            case 8:\n              hilightGuestBlock({\n                bookingId: result.bookingTransaction.booking._id\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function bookingCallBack(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var createBtnHandler = function createBtnHandler() {\n    startBookingModalWithMark(bookingCallBack);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"assig__tooltips canvasMenu tooltipList\",\n    id: \"canvasMenu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Button, {\n    label: LANG(\"create_booking\"),\n    onClick: function onClick(e) {\n      allTooltipsHide();\n      e.stopPropagation();\n      createBtnHandler();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: function onClick() {\n      allTooltipsHide();\n      addBlock(start, end, groupIds);\n    },\n    label: LANG(\"block_room\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))));\n};\n\nexport default CanvasMenuTooltip;","map":{"version":3,"sources":["C:/Users/김민재/Desktop/projects/jd-api-server-client/src/pages/bookingHost/assig/components/tooltips/CanvasMenuTooltip.tsx"],"names":["React","Button","LANG","CanvasMenuTooltip","assigHooks","assigUtils","hilightGuestBlock","changeMarkToGhost","addBlock","getInfoesFromMarks","startBookingModalWithMark","allTooltipsHide","groupIds","end","start","bookingCallBack","result","bookingTransaction","booking","bookingId","_id","createBtnHandler","e","stopPropagation"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AAOA,SAASC,IAAT,QAAqB,2BAArB;;AAQA,IAAMC,iBAAmC,GAAG,SAAtCA,iBAAsC,OAUtC;AAAA,iCATJC,UASI;;AAAA,6BARJC,UAQI;AAAA,MAPFC,iBAOE,mBAPFA,iBAOE;AAAA,MANFC,iBAME,mBANFA,iBAME;AAAA,MALFC,QAKE,mBALFA,QAKE;AAAA,MAJFC,kBAIE,mBAJFA,kBAIE;AAAA,MAHFC,yBAGE,mBAHFA,yBAGE;AAAA,MAFFC,eAEE,mBAFFA,eAEE;;AAAA,4BAC6BF,kBAAkB,EAD/C;AAAA,MACIG,QADJ,uBACIA,QADJ;AAAA,MACcC,GADd,uBACcA,GADd;AAAA,MACmBC,KADnB,uBACmBA,KADnB;;AAGJ,MAAMC,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBACtBC,MADsB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGlBA,MAAM,KAAK,OAHO;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,kBAIjBA,MAAM,CAACC,kBAJU;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,kBAKjBD,MAAM,CAACC,kBAAP,CAA0BC,OALT;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAMhBX,iBAAiB,EAND;;AAAA;AAQtBD,cAAAA,iBAAiB,CAAC;AAAEa,gBAAAA,SAAS,EAAEH,MAAM,CAACC,kBAAP,CAA0BC,OAA1B,CAAkCE;AAA/C,eAAD,CAAjB;;AARsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfL,eAAe;AAAA;AAAA;AAAA,KAArB;;AAWA,MAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BX,IAAAA,yBAAyB,CAACK,eAAD,CAAzB;AACD,GAFD;;AAIA,SACE;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAwD,IAAA,EAAE,EAAC,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEb,IAAI,CAAC,gBAAD,CADb;AAEE,IAAA,OAAO,EAAE,iBAAAoB,CAAC,EAAI;AACZX,MAAAA,eAAe;AACfW,MAAAA,CAAC,CAACC,eAAF;AACAF,MAAAA,gBAAgB;AACjB,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,mBAAM;AACbV,MAAAA,eAAe;AACfH,MAAAA,QAAQ,CAACM,KAAD,EAAQD,GAAR,EAAaD,QAAb,CAAR;AACD,KAJH;AAKE,IAAA,KAAK,EAAEV,IAAI,CAAC,YAAD,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAXF,CADF,CADF;AAyBD,CArDD;;AAuDA,eAAeC,iBAAf","sourcesContent":["import React from \"react\";\r\nimport Button from \"../../../../../atoms/button/Button\";\r\nimport {\r\n  IAssigTimelineUtils,\r\n  IAssigTimelineContext,\r\n  IAssigTimelineHooks\r\n} from \"../../helpers/assigIntrerface\";\r\nimport { startBooking_StartBooking } from \"../../../../../types/api\";\r\nimport { LANG } from \"../../../../../hooks/hook\";\r\n\r\ninterface IProps {\r\n  assigHooks: IAssigTimelineHooks;\r\n  assigUtils: IAssigTimelineUtils;\r\n  assigContext: IAssigTimelineContext;\r\n}\r\n\r\nconst CanvasMenuTooltip: React.FC<IProps> = ({\r\n  assigHooks: {},\r\n  assigUtils: {\r\n    hilightGuestBlock,\r\n    changeMarkToGhost,\r\n    addBlock,\r\n    getInfoesFromMarks,\r\n    startBookingModalWithMark,\r\n    allTooltipsHide\r\n  }\r\n}) => {\r\n  const { groupIds, end, start } = getInfoesFromMarks();\r\n\r\n  const bookingCallBack = async (\r\n    result: \"error\" | startBooking_StartBooking\r\n  ) => {\r\n    if (result === \"error\") return;\r\n    if (!result.bookingTransaction) return;\r\n    if (!result.bookingTransaction.booking) return;\r\n    await changeMarkToGhost();\r\n\r\n    hilightGuestBlock({ bookingId: result.bookingTransaction.booking._id });\r\n  };\r\n\r\n  const createBtnHandler = () => {\r\n    startBookingModalWithMark(bookingCallBack);\r\n  };\r\n\r\n  return (\r\n    <div className=\"assig__tooltips canvasMenu tooltipList\" id=\"canvasMenu\">\r\n      <ul>\r\n        <li>\r\n          <Button\r\n            label={LANG(\"create_booking\")}\r\n            onClick={e => {\r\n              allTooltipsHide();\r\n              e.stopPropagation();\r\n              createBtnHandler();\r\n            }}\r\n          />\r\n        </li>\r\n        <li>\r\n          <Button\r\n            onClick={() => {\r\n              allTooltipsHide();\r\n              addBlock(start, end, groupIds);\r\n            }}\r\n            label={LANG(\"block_room\")}\r\n          />\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CanvasMenuTooltip;\r\n"]},"metadata":{},"sourceType":"module"}