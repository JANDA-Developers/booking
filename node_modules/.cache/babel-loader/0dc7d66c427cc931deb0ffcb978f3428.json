{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\src\\\\pages\\\\middleServer\\\\myPage\\\\components\\\\myHouseModalWrap.tsx\";\nimport React from \"react\";\nimport { Mutation, Query } from \"react-apollo\";\nimport { DELETE_HOUSE, GET_USER_INFO, GET_HOUSE } from \"../../../../queries\";\nimport MyHouseModal from \"./myHouseModal\";\nimport { LANG } from \"../../../../hooks/hook\";\nimport { onCompletedMessage, queryDataFormater, isEmpty } from \"../../../../utils/utils\";\nimport { SELECT_HOUSE, SELECTED_HOUSE } from \"../../../../clientQueries\";\n\nvar GetHouseQuery =\n/*#__PURE__*/\nfunction (_Query) {\n  _inherits(GetHouseQuery, _Query);\n\n  function GetHouseQuery() {\n    _classCallCheck(this, GetHouseQuery);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GetHouseQuery).apply(this, arguments));\n  }\n\n  return GetHouseQuery;\n}(Query);\n\nvar DeleteHouseMutation =\n/*#__PURE__*/\nfunction (_Mutation) {\n  _inherits(DeleteHouseMutation, _Mutation);\n\n  function DeleteHouseMutation() {\n    _classCallCheck(this, DeleteHouseMutation);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DeleteHouseMutation).apply(this, arguments));\n  }\n\n  return DeleteHouseMutation;\n}(Mutation);\n\nvar MyHouseModalWrap = function MyHouseModalWrap(_ref) {\n  var modalHook = _ref.MyHouseModalHook,\n      context = _ref.context;\n  return React.createElement(DeleteHouseMutation, {\n    mutation: DELETE_HOUSE,\n    refetchQueries: [{\n      query: GET_USER_INFO\n    }, {\n      query: SELECTED_HOUSE\n    }],\n    variables: {\n      id: modalHook.info.houseId\n    },\n    onCompleted: function onCompleted(_ref2) {\n      var DeleteHouse = _ref2.DeleteHouse;\n      onCompletedMessage(DeleteHouse, LANG(\"house_delete_completed\"), LANG(\"house_delete_failed\"));\n      return false;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, function (deleteMutation) {\n    return React.createElement(Mutation, {\n      mutation: SELECT_HOUSE,\n      onCompleted: function onCompleted(_ref3) {\n        var selectHouse = _ref3.selectHouse;\n        onCompletedMessage(selectHouse, LANG(\"changed_current_house\"), LANG(\"failt_to_change_house\"));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, function (houseChangeMutation) {\n      return React.createElement(GetHouseQuery, {\n        fetchPolicy: \"network-only\",\n        query: GET_HOUSE,\n        skip: isEmpty(modalHook.info.houseId),\n        variables: {\n          houseId: modalHook.info.houseId\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, function (_ref4) {\n        var houseData = _ref4.data,\n            loading = _ref4.loading,\n            error = _ref4.error;\n        var house = queryDataFormater(houseData, \"GetHouse\", \"house\", undefined);\n        return React.createElement(MyHouseModal, {\n          context: context,\n          loading: loading,\n          modalHook: modalHook,\n          deleteMu: deleteMutation,\n          houseChangeMu: houseChangeMutation,\n          house: house,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      });\n    });\n  });\n};\n\nexport default MyHouseModalWrap;","map":{"version":3,"sources":["C:/Users/김민재/Desktop/projects/jd-api-server-client/src/pages/middleServer/myPage/components/myHouseModalWrap.tsx"],"names":["React","Mutation","Query","DELETE_HOUSE","GET_USER_INFO","GET_HOUSE","MyHouseModal","LANG","onCompletedMessage","queryDataFormater","isEmpty","SELECT_HOUSE","SELECTED_HOUSE","GetHouseQuery","DeleteHouseMutation","MyHouseModalWrap","modalHook","MyHouseModalHook","context","query","id","info","houseId","DeleteHouse","deleteMutation","selectHouse","houseChangeMutation","houseData","data","loading","error","house","undefined"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,KAAlB,QAA8B,cAA9B;AACA,SAAQC,YAAR,EAAsBC,aAAtB,EAAqCC,SAArC,QAAqD,qBAArD;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAAmBC,IAAnB,QAA8B,wBAA9B;AACA,SACEC,kBADF,EAEEC,iBAFF,EAGEC,OAHF,QAIO,yBAJP;AAKA,SAAQC,YAAR,EAAsBC,cAAtB,QAA2C,2BAA3C;;IAaMC,a;;;;;;;;;;;;EAAsBX,K;;IACtBY,mB;;;;;;;;;;;;EAA4Bb,Q;;AAElC,IAAMc,gBAAmC,GAAG,SAAtCA,gBAAsC;AAAA,MACxBC,SADwB,QAC1CC,gBAD0C;AAAA,MAE1CC,OAF0C,QAE1CA,OAF0C;AAAA,SAI1C,oBAAC,mBAAD;AACE,IAAA,QAAQ,EAAEf,YADZ;AAEE,IAAA,cAAc,EAAE,CAAC;AAACgB,MAAAA,KAAK,EAAEf;AAAR,KAAD,EAAyB;AAACe,MAAAA,KAAK,EAAEP;AAAR,KAAzB,CAFlB;AAGE,IAAA,SAAS,EAAE;AACTQ,MAAAA,EAAE,EAAEJ,SAAS,CAACK,IAAV,CAAeC;AADV,KAHb;AAME,IAAA,WAAW,EAAE,4BAAmB;AAAA,UAAjBC,WAAiB,SAAjBA,WAAiB;AAC9Bf,MAAAA,kBAAkB,CAChBe,WADgB,EAEhBhB,IAAI,CAAC,wBAAD,CAFY,EAGhBA,IAAI,CAAC,qBAAD,CAHY,CAAlB;AAKA,aAAO,KAAP;AACD,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAeG,UAAAiB,cAAc;AAAA,WACb,oBAAC,QAAD;AACE,MAAA,QAAQ,EAAEb,YADZ;AAEE,MAAA,WAAW,EAAE,4BAAwB;AAAA,YAAtBc,WAAsB,SAAtBA,WAAsB;AACnCjB,QAAAA,kBAAkB,CAChBiB,WADgB,EAEhBlB,IAAI,CAAC,uBAAD,CAFY,EAGhBA,IAAI,CAAC,uBAAD,CAHY,CAAlB;AAKD,OARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUG,UAACmB,mBAAD;AAAA,aACC,oBAAC,aAAD;AACE,QAAA,WAAW,EAAC,cADd;AAEE,QAAA,KAAK,EAAErB,SAFT;AAGE,QAAA,IAAI,EAAEK,OAAO,CAACM,SAAS,CAACK,IAAV,CAAeC,OAAhB,CAHf;AAIE,QAAA,SAAS,EAAE;AAACA,UAAAA,OAAO,EAAEN,SAAS,CAACK,IAAV,CAAeC;AAAzB,SAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMG,iBAAuC;AAAA,YAA/BK,SAA+B,SAArCC,IAAqC;AAAA,YAApBC,OAAoB,SAApBA,OAAoB;AAAA,YAAXC,KAAW,SAAXA,KAAW;AACtC,YAAMC,KAAK,GAAGtB,iBAAiB,CAC7BkB,SAD6B,EAE7B,UAF6B,EAG7B,OAH6B,EAI7BK,SAJ6B,CAA/B;AAMA,eACE,oBAAC,YAAD;AACE,UAAA,OAAO,EAAEd,OADX;AAEE,UAAA,OAAO,EAAEW,OAFX;AAGE,UAAA,SAAS,EAAEb,SAHb;AAIE,UAAA,QAAQ,EAAEQ,cAJZ;AAKE,UAAA,aAAa,EAAEE,mBALjB;AAME,UAAA,KAAK,EAAEK,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,OAvBH,CADD;AAAA,KAVH,CADa;AAAA,GAfjB,CAJ0C;AAAA,CAA5C;;AA8DA,eAAehB,gBAAf","sourcesContent":["import React from \"react\";\r\nimport {Mutation, Query} from \"react-apollo\";\r\nimport {DELETE_HOUSE, GET_USER_INFO, GET_HOUSE} from \"../../../../queries\";\r\nimport MyHouseModal from \"./myHouseModal\";\r\nimport {IUseModal, LANG} from \"../../../../hooks/hook\";\r\nimport {\r\n  onCompletedMessage,\r\n  queryDataFormater,\r\n  isEmpty\r\n} from \"../../../../utils/utils\";\r\nimport {SELECT_HOUSE, SELECTED_HOUSE} from \"../../../../clientQueries\";\r\nimport {\r\n  getHouse,\r\n  getHouseVariables,\r\n  deleteHouse,\r\n  deleteHouseVariables\r\n} from \"../../../../types/api\";\r\nimport {IContext} from \"../../../MiddleServerRouter\";\r\n\r\ninterface IProps {\r\n  MyHouseModalHook: IUseModal;\r\n  context: IContext;\r\n}\r\nclass GetHouseQuery extends Query<getHouse, getHouseVariables> {}\r\nclass DeleteHouseMutation extends Mutation<deleteHouse, deleteHouseVariables> {}\r\n\r\nconst MyHouseModalWrap: React.SFC<IProps> = ({\r\n  MyHouseModalHook: modalHook,\r\n  context\r\n}) => (\r\n  <DeleteHouseMutation\r\n    mutation={DELETE_HOUSE}\r\n    refetchQueries={[{query: GET_USER_INFO}, {query: SELECTED_HOUSE}]}\r\n    variables={{\r\n      id: modalHook.info.houseId\r\n    }}\r\n    onCompleted={({DeleteHouse}) => {\r\n      onCompletedMessage(\r\n        DeleteHouse,\r\n        LANG(\"house_delete_completed\"),\r\n        LANG(\"house_delete_failed\")\r\n      );\r\n      return false;\r\n    }}\r\n  >\r\n    {deleteMutation => (\r\n      <Mutation\r\n        mutation={SELECT_HOUSE}\r\n        onCompleted={({selectHouse}: any) => {\r\n          onCompletedMessage(\r\n            selectHouse,\r\n            LANG(\"changed_current_house\"),\r\n            LANG(\"failt_to_change_house\")\r\n          );\r\n        }}\r\n      >\r\n        {(houseChangeMutation: any) => (\r\n          <GetHouseQuery\r\n            fetchPolicy=\"network-only\"\r\n            query={GET_HOUSE}\r\n            skip={isEmpty(modalHook.info.houseId)}\r\n            variables={{houseId: modalHook.info.houseId}}\r\n          >\r\n            {({data: houseData, loading, error}) => {\r\n              const house = queryDataFormater(\r\n                houseData,\r\n                \"GetHouse\",\r\n                \"house\",\r\n                undefined\r\n              );\r\n              return (\r\n                <MyHouseModal\r\n                  context={context}\r\n                  loading={loading}\r\n                  modalHook={modalHook}\r\n                  deleteMu={deleteMutation}\r\n                  houseChangeMu={houseChangeMutation}\r\n                  house={house}\r\n                />\r\n              );\r\n            }}\r\n          </GetHouseQuery>\r\n        )}\r\n      </Mutation>\r\n    )}\r\n  </DeleteHouseMutation>\r\n);\r\n\r\nexport default MyHouseModalWrap;\r\n"]},"metadata":{},"sourceType":"module"}