{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar resolvers = {\n  Query: {\n    lastSelectedHouse: function lastSelectedHouse() {\n      var result = {\n        __typename: \"House\",\n        value: localStorage.getItem(\"selectId\"),\n        label: localStorage.getItem(\"selectHouseLabel\")\n      };\n      return result;\n    },\n    auth: function auth() {\n      return {\n        isLogIn: localStorage.getItem(\"jwt\")\n      };\n    }\n  },\n  Mutation: {\n    // resolvers: 로그인\n    LogUserIn: function LogUserIn(_, _ref, _ref2) {\n      var token = _ref.token;\n      var cache = _ref2.cache;\n      localStorage.setItem(\"jwt\", token);\n      cache.writeData({\n        data: {\n          auth: {\n            __typename: \"Auth\",\n            isLogIn: true\n          }\n        }\n      });\n      return null;\n    },\n    // resolvers: 로그아웃\n    LogUserOut: function LogUserOut(_, __, _ref3) {\n      var cache = _ref3.cache;\n      localStorage.removeItem(\"jwt\");\n      cache.writeData({\n        data: {\n          auth: _objectSpread({}, cache.data.auth, {\n            __typename: \"Auth\",\n            isLogIn: false\n          })\n        }\n      });\n      return null;\n    },\n    // resolvers: 숙소선택\n    selectHouse: function selectHouse(_, args, _ref4) {\n      var cache = _ref4.cache;\n\n      try {\n        cache.writeData({\n          data: {\n            lastSelectedHouse: {\n              __typename: \"House\",\n              value: args.selectedHouse.value,\n              label: args.selectedHouse.label\n            }\n          }\n        });\n        localStorage.setItem(\"selectId\", args.selectedHouse.value);\n        localStorage.setItem(\"selectHouseLabel\", args.selectedHouse.label);\n        return {\n          __typename: \"House\",\n          ok: true,\n          erorr: null\n        };\n      } catch (error) {\n        return {\n          __typename: \"House\",\n          ok: false,\n          error: error.message\n        };\n      }\n    }\n  }\n};\nexport default resolvers;","map":{"version":3,"sources":["C:/Users/김민재/Desktop/projects/jd-api-server-client/src/resolvers.js"],"names":["resolvers","Query","lastSelectedHouse","result","__typename","value","localStorage","getItem","label","auth","isLogIn","Mutation","LogUserIn","_","token","cache","setItem","writeData","data","LogUserOut","__","removeItem","selectHouse","args","selectedHouse","ok","erorr","error","message"],"mappings":";AAAA,IAAMA,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,iBAAiB,EAAE,6BAAM;AACvB,UAAMC,MAAM,GAAG;AACbC,QAAAA,UAAU,EAAE,OADC;AAEbC,QAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAFM;AAGbC,QAAAA,KAAK,EAAEF,YAAY,CAACC,OAAb,CAAqB,kBAArB;AAHM,OAAf;AAMA,aAAOJ,MAAP;AACD,KATI;AAULM,IAAAA,IAAI,EAAE,gBAAM;AACV,aAAO;AACLC,QAAAA,OAAO,EAAEJ,YAAY,CAACC,OAAb,CAAqB,KAArB;AADJ,OAAP;AAGD;AAdI,GADS;AAiBhBI,EAAAA,QAAQ,EAAE;AACR;AACAC,IAAAA,SAAS,EAAE,mBAACC,CAAD,eAAyB;AAAA,UAApBC,KAAoB,QAApBA,KAAoB;AAAA,UAAXC,KAAW,SAAXA,KAAW;AAClCT,MAAAA,YAAY,CAACU,OAAb,CAAqB,KAArB,EAA4BF,KAA5B;AACAC,MAAAA,KAAK,CAACE,SAAN,CAAgB;AACdC,QAAAA,IAAI,EAAE;AACJT,UAAAA,IAAI,EAAE;AACJL,YAAAA,UAAU,EAAE,MADR;AAEJM,YAAAA,OAAO,EAAE;AAFL;AADF;AADQ,OAAhB;AAQA,aAAO,IAAP;AACD,KAbO;AAcR;AACAS,IAAAA,UAAU,EAAE,oBAACN,CAAD,EAAIO,EAAJ,SAAoB;AAAA,UAAXL,KAAW,SAAXA,KAAW;AAC9BT,MAAAA,YAAY,CAACe,UAAb,CAAwB,KAAxB;AACAN,MAAAA,KAAK,CAACE,SAAN,CAAgB;AACdC,QAAAA,IAAI,EAAE;AACJT,UAAAA,IAAI,oBACCM,KAAK,CAACG,IAAN,CAAWT,IADZ;AAEFL,YAAAA,UAAU,EAAE,MAFV;AAGFM,YAAAA,OAAO,EAAE;AAHP;AADA;AADQ,OAAhB;AASA,aAAO,IAAP;AACD,KA3BO;AA4BR;AACAY,IAAAA,WAAW,EAAE,qBAACT,CAAD,EAAIU,IAAJ,SAAsB;AAAA,UAAXR,KAAW,SAAXA,KAAW;;AACjC,UAAI;AACFA,QAAAA,KAAK,CAACE,SAAN,CAAgB;AACdC,UAAAA,IAAI,EAAE;AACJhB,YAAAA,iBAAiB,EAAE;AACjBE,cAAAA,UAAU,EAAE,OADK;AAEjBC,cAAAA,KAAK,EAAEkB,IAAI,CAACC,aAAL,CAAmBnB,KAFT;AAGjBG,cAAAA,KAAK,EAAEe,IAAI,CAACC,aAAL,CAAmBhB;AAHT;AADf;AADQ,SAAhB;AASAF,QAAAA,YAAY,CAACU,OAAb,CAAqB,UAArB,EAAiCO,IAAI,CAACC,aAAL,CAAmBnB,KAApD;AACAC,QAAAA,YAAY,CAACU,OAAb,CAAqB,kBAArB,EAAyCO,IAAI,CAACC,aAAL,CAAmBhB,KAA5D;AACA,eAAO;AACLJ,UAAAA,UAAU,EAAE,OADP;AAELqB,UAAAA,EAAE,EAAE,IAFC;AAGLC,UAAAA,KAAK,EAAE;AAHF,SAAP;AAKD,OAjBD,CAiBE,OAAOC,KAAP,EAAc;AACd,eAAO;AACLvB,UAAAA,UAAU,EAAE,OADP;AAELqB,UAAAA,EAAE,EAAE,KAFC;AAGLE,UAAAA,KAAK,EAAEA,KAAK,CAACC;AAHR,SAAP;AAKD;AACF;AAtDO;AAjBM,CAAlB;AA2EA,eAAe5B,SAAf","sourcesContent":["const resolvers = {\r\n  Query: {\r\n    lastSelectedHouse: () => {\r\n      const result = {\r\n        __typename: \"House\",\r\n        value: localStorage.getItem(\"selectId\"),\r\n        label: localStorage.getItem(\"selectHouseLabel\")\r\n      };\r\n\r\n      return result;\r\n    },\r\n    auth: () => {\r\n      return {\r\n        isLogIn: localStorage.getItem(\"jwt\")\r\n      };\r\n    }\r\n  },\r\n  Mutation: {\r\n    // resolvers: 로그인\r\n    LogUserIn: (_, {token}, {cache}) => {\r\n      localStorage.setItem(\"jwt\", token);\r\n      cache.writeData({\r\n        data: {\r\n          auth: {\r\n            __typename: \"Auth\",\r\n            isLogIn: true\r\n          }\r\n        }\r\n      });\r\n      return null;\r\n    },\r\n    // resolvers: 로그아웃\r\n    LogUserOut: (_, __, {cache}) => {\r\n      localStorage.removeItem(\"jwt\");\r\n      cache.writeData({\r\n        data: {\r\n          auth: {\r\n            ...cache.data.auth,\r\n            __typename: \"Auth\",\r\n            isLogIn: false\r\n          }\r\n        }\r\n      });\r\n      return null;\r\n    },\r\n    // resolvers: 숙소선택\r\n    selectHouse: (_, args, {cache}) => {\r\n      try {\r\n        cache.writeData({\r\n          data: {\r\n            lastSelectedHouse: {\r\n              __typename: \"House\",\r\n              value: args.selectedHouse.value,\r\n              label: args.selectedHouse.label\r\n            }\r\n          }\r\n        });\r\n        localStorage.setItem(\"selectId\", args.selectedHouse.value);\r\n        localStorage.setItem(\"selectHouseLabel\", args.selectedHouse.label);\r\n        return {\r\n          __typename: \"House\",\r\n          ok: true,\r\n          erorr: null\r\n        };\r\n      } catch (error) {\r\n        return {\r\n          __typename: \"House\",\r\n          ok: false,\r\n          error: error.message\r\n        };\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default resolvers;\r\n"]},"metadata":{},"sourceType":"module"}