{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\src\\\\components\\\\guestSearchInput\\\\GuestSearchInput.tsx\";\nimport React, { Fragment } from \"react\";\nimport JDsearchInput from \"../../atoms/searchInput/SearchInput\";\nimport BookingModalWrap from \"../bookingModal/BookingModalWrap\";\nimport { useModal } from \"../../hooks/hook\";\nimport $ from \"jquery\";\nimport { autoHypen } from \"../../utils/utils\";\n\nvar GuestSearchInput = function GuestSearchInput(_ref) {\n  var onTypeValue = _ref.onTypeValue,\n      setType = _ref.setType,\n      bookings = _ref.bookings,\n      context = _ref.context,\n      loading = _ref.loading;\n  var bookingModalHook = useModal(false);\n\n  var openBookingModal = function openBookingModal(id) {\n    bookingModalHook.openModal({\n      bookingId: id\n    });\n  };\n\n  var handleClickList = function handleClickList(value, id) {\n    if (!id) return;\n    openBookingModal(id);\n  };\n\n  var unHilightTarget = function unHilightTarget() {\n    $(\".assigItem--searched\").removeClass(\"assigItem--searched\");\n  }; // 방배정에서 사용가능\n\n\n  var hilightTarget = function hilightTarget(target) {\n    $(\".assigItem--searched\").removeClass(\"assigItem--searched\");\n    var scrollTarget = $(\".rct-scroll\").get(0);\n    $(target).addClass(\"assigItem--searched\");\n    var targetDom = $(target).get(0);\n    window.scrollTo({\n      top: targetDom.offsetTop\n    });\n    var targetWidth = $(scrollTarget).width() || 0;\n    scrollTarget.scrollTo({\n      left: targetDom.offsetLeft - targetWidth / 2\n    });\n  };\n\n  var handleFindOne = function handleFindOne(label, id) {\n    if (!id) return;\n    setType(label);\n    var target = $(\".assigItem--booking\".concat(id));\n    var targetDom = $(target).get(0);\n\n    if (targetDom) {\n      hilightTarget(target);\n    } else {\n      openBookingModal(id);\n    }\n  };\n\n  var BookingsDataManufacter = function BookingsDataManufacter(bookings) {\n    var bookingData = bookings.map(function (booking) {\n      booking.phoneNumber = autoHypen(booking.phoneNumber);\n      return booking;\n    });\n    return bookingData;\n  };\n\n  var handleTypeChange = function handleTypeChange(value) {\n    if (!value) unHilightTarget();\n    setType(value);\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(JDsearchInput, {\n    isLoading: loading,\n    onTypeValue: onTypeValue,\n    onTypeChange: handleTypeChange,\n    onFindOne: handleFindOne,\n    onListClick: handleClickList,\n    setTypeWhenFindOne: true,\n    staticList: true,\n    filter: false,\n    asDetail: \"phoneNumber\",\n    asId: \"_id\",\n    asName: \"name\",\n    dataList: BookingsDataManufacter(bookings),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(BookingModalWrap, {\n    context: context,\n    modalHook: bookingModalHook,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }));\n};\n\nexport default GuestSearchInput;","map":{"version":3,"sources":["C:/Users/김민재/Desktop/projects/jd-api-server-client/src/components/guestSearchInput/GuestSearchInput.tsx"],"names":["React","Fragment","JDsearchInput","BookingModalWrap","useModal","$","autoHypen","GuestSearchInput","onTypeValue","setType","bookings","context","loading","bookingModalHook","openBookingModal","id","openModal","bookingId","handleClickList","value","unHilightTarget","removeClass","hilightTarget","target","scrollTarget","get","addClass","targetDom","window","scrollTo","top","offsetTop","targetWidth","width","left","offsetLeft","handleFindOne","label","BookingsDataManufacter","bookingData","map","booking","phoneNumber","handleTypeChange"],"mappings":"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","sourcesContent":["import React, {Fragment} from \"react\";\r\nimport JDsearchInput from \"../../atoms/searchInput/SearchInput\";\r\nimport {getBookings_GetBookings_bookings} from \"../../types/api\";\r\nimport BookingModalWrap from \"../bookingModal/BookingModalWrap\";\r\nimport {useModal} from \"../../hooks/hook\";\r\nimport $ from \"jquery\";\r\nimport {autoHypen} from \"../../utils/utils\";\r\nimport {IContext} from \"../../pages/MiddleServerRouter\";\r\n\r\ninterface IProps {\r\n  loading: boolean;\r\n  context: IContext;\r\n  onTypeValue: string;\r\n  setType: any;\r\n  bookings: getBookings_GetBookings_bookings[];\r\n}\r\n\r\nconst GuestSearchInput: React.FC<IProps> = ({\r\n  onTypeValue,\r\n  setType,\r\n  bookings,\r\n  context,\r\n  loading\r\n}) => {\r\n  const bookingModalHook = useModal(false);\r\n\r\n  const openBookingModal = (id: string) => {\r\n    bookingModalHook.openModal({\r\n      bookingId: id\r\n    });\r\n  };\r\n\r\n  const handleClickList = (\r\n    value: string | undefined,\r\n    id: string | undefined\r\n  ): void => {\r\n    if (!id) return;\r\n    openBookingModal(id);\r\n  };\r\n\r\n  const unHilightTarget = () => {\r\n    $(\".assigItem--searched\").removeClass(\"assigItem--searched\");\r\n  };\r\n\r\n  // 방배정에서 사용가능\r\n  const hilightTarget = (target: JQuery<HTMLElement>) => {\r\n    $(\".assigItem--searched\").removeClass(\"assigItem--searched\");\r\n    const scrollTarget = $(`.rct-scroll`).get(0);\r\n    $(target).addClass(\"assigItem--searched\");\r\n    const targetDom = $(target).get(0);\r\n    window.scrollTo({top: targetDom.offsetTop});\r\n    const targetWidth = $(scrollTarget).width() || 0;\r\n    scrollTarget.scrollTo({left: targetDom.offsetLeft - targetWidth / 2});\r\n  };\r\n\r\n  const handleFindOne = (label?: string | null, id?: string) => {\r\n    if (!id) return;\r\n    setType(label);\r\n    const target = $(`.assigItem--booking${id}`);\r\n    const targetDom = $(target).get(0);\r\n    if (targetDom) {\r\n      hilightTarget(target);\r\n    } else {\r\n      openBookingModal(id);\r\n    }\r\n  };\r\n\r\n  const BookingsDataManufacter = (\r\n    bookings: getBookings_GetBookings_bookings[]\r\n  ) => {\r\n    const bookingData = bookings.map(booking => {\r\n      booking.phoneNumber = autoHypen(booking.phoneNumber);\r\n      return booking;\r\n    });\r\n    return bookingData;\r\n  };\r\n\r\n  const handleTypeChange = (value?: string) => {\r\n    if (!value) unHilightTarget();\r\n    setType(value);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <JDsearchInput\r\n        isLoading={loading}\r\n        onTypeValue={onTypeValue}\r\n        onTypeChange={handleTypeChange}\r\n        onFindOne={handleFindOne}\r\n        onListClick={handleClickList}\r\n        setTypeWhenFindOne={true}\r\n        staticList\r\n        filter={false}\r\n        asDetail=\"phoneNumber\"\r\n        asId=\"_id\"\r\n        asName=\"name\"\r\n        dataList={BookingsDataManufacter(bookings)}\r\n      />\r\n      <BookingModalWrap context={context} modalHook={bookingModalHook} />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GuestSearchInput;\r\n"]},"metadata":{},"sourceType":"module"}