{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\uAE40\\uBBFC\\uC7AC\\\\Desktop\\\\projects\\\\jd-api-server-client\\\\src\\\\pages\\\\MiddleServerRouter.tsx\";\n\n/* eslint-disable react/forbid-prop-types */\nimport React, { Fragment, useEffect } from \"react\";\nimport { JDlang } from \"../langs/JDlang\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { graphql, compose } from \"react-apollo\";\nimport { Helmet } from \"react-helmet\";\nimport Header from \"../components/headers/HeaderWrap\";\nimport NoMatch from \"./noMatch/NoMatch\";\nimport { IS_LOGGED_IN, SELECTED_HOUSE } from \"../clientQueries\";\nimport { GET_USER_INFO } from \"../queries\";\nimport { isEmpty, s4, insideRedirect } from \"../utils/utils\";\nimport Preloader from \"../atoms/preloader/Preloader\";\nimport \"./MiddleServerRouter.scss\";\nimport classnames from \"classnames\";\nimport { SelectProducts, CreateHouse, DashBoard, MyPage, SignUp, Login, AssigTimeline, SuperMain, SetPrice, Qna, DailyPrice, Sms, ResvList, SmsHistory, Statistic, RoomConfig, ConfigWrap, HMconfig } from \"./pages\";\nimport { UserRole } from \"../types/enum\";\nimport { DEFAULT_USER } from \"../types/defaults\";\nimport { setCookie } from \"../utils/cookies\";\nimport greet from \"../utils/greet\";\nimport getCurrentHouse from \"../utils/getLastSelectHouse\";\nimport houseConfigSetting from \"../utils/houseConfigSetting\";\nimport { useModal, useSideNav } from \"../hooks/hook\";\nimport MemoAlertModal from \"../components/Memo/component/MemoAlertModal\";\nimport JDoutdatedBrowserRework from \"../utils/oldBrowser\";\nimport SideNav from \"../components/sideNav/SideNav\";\nimport Expired from \"./middleServer/expire/Expired\";\nimport StarterModalWrap from \"./middleServer/starterModal/StarterModalWrap\";\nimport { AddtionalConfigModal } from \"../components/else/AdditionalConfigModal\";\n\nvar JDmiddleServer = function JDmiddleServer(_ref) {\n  var _ref$IsLoggedIn = _ref.IsLoggedIn,\n      isLogIn = _ref$IsLoggedIn.auth.isLogIn,\n      loading = _ref$IsLoggedIn.loading,\n      _ref$GetUserInfo = _ref.GetUserInfo;\n  _ref$GetUserInfo = _ref$GetUserInfo === void 0 ? {} : _ref$GetUserInfo;\n  var _ref$GetUserInfo$GetM = _ref$GetUserInfo.GetMyProfile;\n  _ref$GetUserInfo$GetM = _ref$GetUserInfo$GetM === void 0 ? {} : _ref$GetUserInfo$GetM;\n  var _ref$GetUserInfo$GetM2 = _ref$GetUserInfo$GetM.user,\n      user = _ref$GetUserInfo$GetM2 === void 0 ? DEFAULT_USER : _ref$GetUserInfo$GetM2,\n      loading2 = _ref$GetUserInfo.loading,\n      _ref$selectedHouse = _ref.selectedHouse,\n      lastSelectedHouse = _ref$selectedHouse.lastSelectedHouse,\n      loading3 = _ref$selectedHouse.loading,\n      langHook = _ref.langHook;\n  var isLoading = loading || loading2 || loading3;\n  var houses = user.houses || [];\n  var currentHouse = getCurrentHouse(houses, lastSelectedHouse);\n  var memoAlertModal = useModal(false);\n  var applyedProduct = currentHouse && currentHouse.product || undefined;\n  var userRole = user.userRole; // Ï∂îÍ∞ÄÏ†Å ÏÑ§Ï†ï Î™®Îã¨\n\n  var additionalConfigModal = useModal(false);\n\n  var _useSideNav = useSideNav(),\n      _useSideNav2 = _slicedToArray(_useSideNav, 2),\n      sideNavIsOpen = _useSideNav2[0],\n      setSideNavIsOpen = _useSideNav2[1];\n\n  var houseConfig = houseConfigSetting(currentHouse);\n\n  var callBackStartStepEnd = function callBackStartStepEnd() {\n    additionalConfigModal.openModal();\n  }; // ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Î∏åÎùºÏö∞Ï†ÄÎ°ú Î∂ÄÌÑ∞ Ï†ëÏÜçÌñàÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.\n\n\n  JDoutdatedBrowserRework(); // ÎîîÎ≤®Î°≠\n\n  if (userRole === \"DEVELOPER\") setCookie(\"isDeveloper\", \"Y\", 1); // TODO  Ï†ÑÎ∂Ä contextÎ°ú Î≤ºÌôò\n\n  var tempContext = {\n    user: user,\n    isLogIn: isLogIn,\n    house: currentHouse,\n    houseConfig: houseConfig,\n    applyedProduct: applyedProduct,\n    houses: houses,\n    sideNavIsOpen: sideNavIsOpen,\n    langHook: langHook\n  };\n  useEffect(function () {\n    // ÏòàÏ†àÏù∏ÏÇ¨\n    if (currentHouse) {\n      greet(tempContext);\n    } //\n\n\n    if (applyedProduct) {\n      greet(tempContext);\n    }\n  }); // Î°úÎî©Ï≤òÎ¶¨\n\n  if (isLoading) return React.createElement(Preloader, {\n    wrapClassName: \"middlerServerLoading\",\n    page: true,\n    loading: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  });\n  var middleServerClassNames = classnames(\"middleServer\", undefined, {\n    \"middleServer--sideOpen\": sideNavIsOpen && currentHouse && currentHouse.completeDefaultSetting\n  }); // üç∞ Î©îÏù∏Î¶¨ÌÑ¥\n\n  return React.createElement(\"div\", {\n    className: middleServerClassNames,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Helmet, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"JANDA | \", currentHouse ? \"\".concat(currentHouse.name) : \"App\", \" \")), React.createElement(Route, {\n    render: function render(props) {\n      var propContext = Object.assign(tempContext, props, JDlang);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(AddtionalConfigModal, {\n        context: propContext,\n        modalHook: additionalConfigModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(MemoAlertModal, {\n        context: propContext,\n        modalHook: memoAlertModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(Header, Object.assign({\n        setSideNavIsOpen: setSideNavIsOpen,\n        sideNavIsOpen: sideNavIsOpen\n      }, props, {\n        context: propContext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      })));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"middleServer__layout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"middleServer__side\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, currentHouse && currentHouse.completeDefaultSetting && React.createElement(Route, {\n    render: function render(props) {\n      var propContext = Object.assign(tempContext, props, JDlang);\n      return React.createElement(SideNav, {\n        context: propContext,\n        isOpen: sideNavIsOpen,\n        setIsOpen: setSideNavIsOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"middleServer__page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, function (props) {\n    var propContext = Object.assign(tempContext, props);\n    return isLogIn ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, currentHouse && currentHouse.completeDefaultSetting ? React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/qna\",\n      component: Qna,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/superAdmin\",\n      render: function render() {\n        return userRole === UserRole.ADMIN || userRole === UserRole.DEVELOPER ? React.createElement(SuperMain, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }) : React.createElement(NoMatch, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), applyedProduct.daysLeftToExpire < 1 && React.createElement(Route, {\n      component: Expired,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/dashboard\",\n      render: function render(prop) {\n        return React.createElement(DashBoard, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: function render(prop) {\n        location.href = insideRedirect(\"dashboard\");\n        return React.createElement(DashBoard, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/products\",\n      render: function render(prop) {\n        return React.createElement(SelectProducts, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/myPage\",\n      render: function render(prop) {\n        return React.createElement(MyPage, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/createHouse\",\n      render: function render(prop) {\n        return React.createElement(CreateHouse, Object.assign({\n          context: propContext\n        }, prop, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/config\",\n      render: function render(props) {\n        return React.createElement(ConfigWrap, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/smsHistory\",\n      render: function render(props) {\n        return React.createElement(SmsHistory, {\n          smsInfoId: currentHouse.smsInfo._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: function render() {\n        return React.createElement(Login, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }), isEmpty(applyedProduct) && React.createElement(Route, {\n      component: NoMatch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      exact: true,\n      path: \"/assigTimeline\",\n      render: function render(props) {\n        return React.createElement(AssigTimeline, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/HMconfig\",\n      render: function render() {\n        return React.createElement(HMconfig, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/dailyPrice\",\n      render: function render() {\n        return React.createElement(DailyPrice, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/statistic\",\n      render: function render() {\n        return React.createElement(Statistic, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/roomConfig/:withGuid?\",\n      render: function render(prop) {\n        return React.createElement(RoomConfig, Object.assign({}, prop, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/sms\",\n      render: function render() {\n        return React.createElement(Sms, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/setPrice\",\n      render: function render() {\n        return React.createElement(SetPrice, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/resvList\",\n      render: function render() {\n        return React.createElement(ResvList, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: NoMatch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"middleServer__starterBg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(StarterModalWrap, {\n      key: s4(),\n      context: propContext,\n      callBackStartStepEnd: callBackStartStepEnd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    })), React.createElement(Route, {\n      component: NoMatch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }))) : // Î°úÍ∑∏Ïù∏ ÏïàÌñàÏùÑÎïåÎßå\n    React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/signUp\",\n      render: function render() {\n        return React.createElement(SignUp, {\n          context: propContext,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }), React.createElement(Login, {\n      context: propContext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }));\n  })))));\n};\n\nexport default compose(graphql(IS_LOGGED_IN, {\n  name: \"IsLoggedIn\"\n}), graphql(GET_USER_INFO, {\n  name: \"GetUserInfo\",\n  skip: function skip(_ref2) {\n    var IsLoggedIn = _ref2.IsLoggedIn;\n\n    if (IsLoggedIn && IsLoggedIn.auth) {\n      return !IsLoggedIn.auth.isLogIn;\n    }\n\n    return true;\n  }\n}), graphql(SELECTED_HOUSE, {\n  name: \"selectedHouse\"\n}))(JDmiddleServer);","map":{"version":3,"sources":["C:/Users/ÍπÄÎØºÏû¨/Desktop/projects/jd-api-server-client/src/pages/MiddleServerRouter.tsx"],"names":["React","Fragment","useEffect","JDlang","Route","Switch","graphql","compose","Helmet","Header","NoMatch","IS_LOGGED_IN","SELECTED_HOUSE","GET_USER_INFO","isEmpty","s4","insideRedirect","Preloader","classnames","SelectProducts","CreateHouse","DashBoard","MyPage","SignUp","Login","AssigTimeline","SuperMain","SetPrice","Qna","DailyPrice","Sms","ResvList","SmsHistory","Statistic","RoomConfig","ConfigWrap","HMconfig","UserRole","DEFAULT_USER","setCookie","greet","getCurrentHouse","houseConfigSetting","useModal","useSideNav","MemoAlertModal","JDoutdatedBrowserRework","SideNav","Expired","StarterModalWrap","AddtionalConfigModal","JDmiddleServer","IsLoggedIn","isLogIn","auth","loading","GetUserInfo","GetMyProfile","user","loading2","selectedHouse","lastSelectedHouse","loading3","langHook","isLoading","houses","currentHouse","memoAlertModal","applyedProduct","product","undefined","userRole","additionalConfigModal","sideNavIsOpen","setSideNavIsOpen","houseConfig","callBackStartStepEnd","openModal","tempContext","house","middleServerClassNames","completeDefaultSetting","name","props","propContext","Object","assign","ADMIN","DEVELOPER","daysLeftToExpire","prop","location","href","smsInfo","_id","skip"],"mappings":"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","sourcesContent":["/* eslint-disable react/forbid-prop-types */\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport { JDlang } from \"../langs/JDlang\";\r\nimport { Route, Switch, RouteComponentProps } from \"react-router-dom\";\r\nimport { graphql, compose } from \"react-apollo\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Header from \"../components/headers/HeaderWrap\";\r\nimport NoMatch from \"./noMatch/NoMatch\";\r\nimport { IS_LOGGED_IN, SELECTED_HOUSE } from \"../clientQueries\";\r\nimport { GET_USER_INFO } from \"../queries\";\r\nimport { isEmpty, s4, insideRedirect } from \"../utils/utils\";\r\nimport Preloader from \"../atoms/preloader/Preloader\";\r\nimport \"./MiddleServerRouter.scss\";\r\nimport classnames from \"classnames\";\r\nimport {\r\n  SelectProducts,\r\n  CreateHouse,\r\n  DashBoard,\r\n  MyPage,\r\n  SignUp,\r\n  Login,\r\n  AssigTimeline,\r\n  SuperMain,\r\n  SetPrice,\r\n  Qna,\r\n  DailyPrice,\r\n  Sms,\r\n  ResvList,\r\n  SmsHistory,\r\n  Statistic,\r\n  RoomConfig,\r\n  ConfigWrap,\r\n  HMconfig\r\n} from \"./pages\";\r\nimport { UserRole, TLanguageShort } from \"../types/enum\";\r\nimport { IHouse, IHouseConfigFull } from \"../types/interface\";\r\nimport { DEFAULT_USER } from \"../types/defaults\";\r\nimport {\r\n  getMyProfile_GetMyProfile_user,\r\n  getMyProfile_GetMyProfile_user_houses_product\r\n} from \"../types/api\";\r\nimport { setCookie } from \"../utils/cookies\";\r\nimport greet from \"../utils/greet\";\r\nimport getCurrentHouse from \"../utils/getLastSelectHouse\";\r\nimport houseConfigSetting from \"../utils/houseConfigSetting\";\r\nimport { useModal, useSideNav } from \"../hooks/hook\";\r\nimport MemoAlertModal from \"../components/Memo/component/MemoAlertModal\";\r\nimport JDoutdatedBrowserRework from \"../utils/oldBrowser\";\r\nimport SideNav from \"../components/sideNav/SideNav\";\r\nimport Expired from \"./middleServer/expire/Expired\";\r\nimport StarterModalWrap from \"./middleServer/starterModal/StarterModalWrap\";\r\nimport { AddtionalConfigModal } from \"../components/else/AdditionalConfigModal\";\r\nimport { onError } from \"apollo-link-error\";\r\n\r\nexport interface IContext extends RouteComponentProps<any> {\r\n  user: getMyProfile_GetMyProfile_user;\r\n  isLogIn: boolean;\r\n  house: IHouse;\r\n  houseConfig: IHouseConfigFull;\r\n  applyedProduct: getMyProfile_GetMyProfile_user_houses_product | undefined;\r\n  houses: IHouse[];\r\n  sideNavIsOpen: boolean;\r\n  JDlang: (key: string) => any;\r\n  langHook: {\r\n    currentLang: TLanguageShort;\r\n    changeLang: (lang: TLanguageShort) => void;\r\n    JDlang: (key: string) => any;\r\n  };\r\n}\r\n\r\ninterface IProps {\r\n  GetUserInfo: any;\r\n  selectedHouse: any;\r\n  IsLoggedIn: any;\r\n  langHook: {\r\n    currentLang: TLanguageShort;\r\n    changeLang: (lang: TLanguageShort) => void;\r\n    JDlang: (key: string) => any;\r\n  };\r\n}\r\n\r\nconst JDmiddleServer: React.FC<IProps> = ({\r\n  IsLoggedIn: {\r\n    auth: { isLogIn },\r\n    loading\r\n  },\r\n  GetUserInfo: {\r\n    GetMyProfile: { user = DEFAULT_USER } = {},\r\n    loading: loading2\r\n  } = {},\r\n  selectedHouse: { lastSelectedHouse, loading: loading3 },\r\n  langHook\r\n}) => {\r\n  const isLoading: boolean = loading || loading2 || loading3;\r\n  const houses: IHouse[] = user.houses || [];\r\n  const currentHouse = getCurrentHouse(houses, lastSelectedHouse);\r\n  const memoAlertModal = useModal(false);\r\n  const applyedProduct = (currentHouse && currentHouse.product) || undefined;\r\n  const { userRole } = user;\r\n  // Ï∂îÍ∞ÄÏ†Å ÏÑ§Ï†ï Î™®Îã¨\r\n  const additionalConfigModal = useModal(false);\r\n  const [sideNavIsOpen, setSideNavIsOpen] = useSideNav();\r\n  const houseConfig = houseConfigSetting(currentHouse);\r\n\r\n  const callBackStartStepEnd = () => {\r\n    additionalConfigModal.openModal();\r\n  };\r\n\r\n  // ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Î∏åÎùºÏö∞Ï†ÄÎ°ú Î∂ÄÌÑ∞ Ï†ëÏÜçÌñàÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.\r\n  JDoutdatedBrowserRework();\r\n\r\n  // ÎîîÎ≤®Î°≠\r\n  if (userRole === \"DEVELOPER\") setCookie(\"isDeveloper\", \"Y\", 1);\r\n\r\n  // TODO  Ï†ÑÎ∂Ä contextÎ°ú Î≤ºÌôò\r\n  const tempContext = {\r\n    user,\r\n    isLogIn,\r\n    house: currentHouse,\r\n    houseConfig,\r\n    applyedProduct,\r\n    houses,\r\n    sideNavIsOpen,\r\n    langHook\r\n  };\r\n\r\n  useEffect(() => {\r\n    // ÏòàÏ†àÏù∏ÏÇ¨\r\n    if (currentHouse) {\r\n      greet(tempContext as any);\r\n    }\r\n    //\r\n    if (applyedProduct) {\r\n      greet(tempContext as any);\r\n    }\r\n  });\r\n\r\n  // Î°úÎî©Ï≤òÎ¶¨\r\n  if (isLoading)\r\n    return (\r\n      <Preloader\r\n        wrapClassName=\"middlerServerLoading\"\r\n        page\r\n        loading={isLoading}\r\n      />\r\n    );\r\n\r\n  const middleServerClassNames = classnames(\"middleServer\", undefined, {\r\n    \"middleServer--sideOpen\":\r\n      sideNavIsOpen && currentHouse && currentHouse.completeDefaultSetting\r\n  });\r\n\r\n  // üç∞ Î©îÏù∏Î¶¨ÌÑ¥\r\n  return (\r\n    <div className={middleServerClassNames}>\r\n      <Fragment>\r\n        <Helmet>\r\n          <title>\r\n            JANDA | {currentHouse ? `${currentHouse.name}` : \"App\"}{\" \"}\r\n          </title>\r\n        </Helmet>\r\n        {/* Ìó§Îçî */}\r\n        <Route\r\n          render={props => {\r\n            const propContext = Object.assign(tempContext, props, JDlang);\r\n            return (\r\n              <Fragment>\r\n                <AddtionalConfigModal\r\n                  context={propContext as any}\r\n                  modalHook={additionalConfigModal}\r\n                />\r\n                <MemoAlertModal\r\n                  context={propContext as any}\r\n                  modalHook={memoAlertModal}\r\n                />\r\n                <Header\r\n                  setSideNavIsOpen={setSideNavIsOpen}\r\n                  sideNavIsOpen={sideNavIsOpen}\r\n                  {...(props as any)}\r\n                  context={propContext as any}\r\n                />\r\n              </Fragment>\r\n            );\r\n          }}\r\n        />\r\n        {/* Ìó§ÎçîÏïÑÎûò */}\r\n        <div className=\"middleServer__layout\">\r\n          {/* ÏÇ¨Ïù¥Îìú ÎÑ§ÎπÑ */}\r\n          <div className=\"middleServer__side\">\r\n            {currentHouse && currentHouse.completeDefaultSetting && (\r\n              <Route\r\n                render={props => {\r\n                  const propContext = Object.assign(tempContext, props, JDlang);\r\n                  return (\r\n                    <SideNav\r\n                      context={propContext as any}\r\n                      isOpen={sideNavIsOpen}\r\n                      setIsOpen={setSideNavIsOpen}\r\n                    />\r\n                  );\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n          {/* ÌéòÏù¥ÏßÄ ÎùºÏö∞ÌåÖ ÏãúÏûë */}\r\n          <div className=\"middleServer__page\">\r\n            {/* Ïù∏Îç±Ïä§ ÌéòÏù¥ÏßÄ */}\r\n            <Route path=\"/\">\r\n              {props => {\r\n                const propContext = Object.assign(tempContext, props);\r\n                return isLogIn ? (\r\n                  <Fragment>\r\n                    <Switch>\r\n                      {/* Ïó¨Í∏∞Î∂ÄÌÑ∞Îäî ÏÉùÏÑ±Îêú ÌïòÏö∞Ïä§Í∞Ä ÏûàÏñ¥Ïïº Ï†ëÍ∑ºÍ∞ÄÎä• */}\r\n                      {currentHouse && currentHouse.completeDefaultSetting ? (\r\n                        <Switch>\r\n                          {/* ÏäàÌçºÍ¥ÄÎ¶¨Ïûê */}\r\n                          {/* Í≥†Í∞ùÎ¨∏Ïùò */}\r\n                          <Route exact path=\"/qna\" component={Qna} />\r\n                          <Route\r\n                            exact\r\n                            path=\"/superAdmin\"\r\n                            render={() => {\r\n                              return userRole === UserRole.ADMIN ||\r\n                                userRole === UserRole.DEVELOPER ? (\r\n                                <SuperMain context={propContext} />\r\n                              ) : (\r\n                                <NoMatch context={propContext as any} />\r\n                              );\r\n                            }}\r\n                          />\r\n                          {/* ÎßåÎ£åÍ∏∞Í∞ÑÏù¥ ÏßÄÎÇ¨Îã§Î©¥*/}\r\n                          {applyedProduct!.daysLeftToExpire < 1 && (\r\n                            <Route component={Expired} />\r\n                          )}\r\n                          {/* ÎåÄÏâ¨Î≥¥Îìú */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/dashboard\"\r\n                            render={prop => {\r\n                              return <DashBoard context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÎåÄÏâ¨Î≥¥Îìú Î¶¨Îã§Ïù¥Î†âÌä∏*/}\r\n                          <Route\r\n                            exact\r\n                            path=\"/\"\r\n                            render={prop => {\r\n                              location.href = insideRedirect(\"dashboard\");\r\n                              return <DashBoard context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÏÉÅÌíàÏÑ†ÌÉù */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/products\"\r\n                            render={prop => {\r\n                              return <SelectProducts context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÎßàÏù¥ ÌéòÏù¥ÏßÄ */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/myPage\"\r\n                            render={prop => {\r\n                              return <MyPage context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÏàôÏÜåÏÉùÏÑ± */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/createHouse\"\r\n                            render={(prop: any) => {\r\n                              return (\r\n                                <CreateHouse context={propContext} {...prop} />\r\n                              );\r\n                            }}\r\n                          />\r\n                          {/* ÏàôÏÜåÏÑ§Ï†ï */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/config\"\r\n                            render={props => {\r\n                              return <ConfigWrap context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* SMS ÌûàÏä§ÌÜ†Î¶¨ */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/smsHistory\"\r\n                            render={props => {\r\n                              return (\r\n                                <SmsHistory\r\n                                  smsInfoId={currentHouse.smsInfo._id}\r\n                                />\r\n                              );\r\n                            }}\r\n                          />\r\n                          {/* Î°úÍ∑∏Ïù∏ */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/login\"\r\n                            render={() => {\r\n                              return <Login context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* Ïó¨Í∏∞Ïù¥ÌõÑÎ°ú ÏÉÅÌíàÏù¥ ÏûàÏñ¥Ïïº Ï†ëÍ∑ºÍ∞ÄÎä• */}\r\n                          {/* Ï†ÅÏö©Îêú ÏÉÅÌíàÏù¥ ÏóÜÎã§Î©¥ */}\r\n                          {isEmpty(applyedProduct) && (\r\n                            <Route component={NoMatch} />\r\n                          )}\r\n                          {/* /* ------------------------------ JANDA BOOKING ----------------------------- */}{\" \"}\r\n                          {/* Î∞©Î∞∞Ï†ï */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/assigTimeline\"\r\n                            render={props => {\r\n                              return <AssigTimeline context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÌïòÏö∞Ïä§ Î©îÎâ¥Ïñº */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/HMconfig\"\r\n                            render={() => {\r\n                              return <HMconfig context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÏûêÏÑ∏Ìïú Í∞ÄÍ≤©ÏÑ§Ï†ï */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/dailyPrice\"\r\n                            render={() => {\r\n                              return <DailyPrice context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÌÜµÍ≥Ñ */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/statistic\"\r\n                            render={() => {\r\n                              return <Statistic context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* Î∞©ÏÉùÏÑ± */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/roomConfig/:withGuid?\"\r\n                            render={prop => {\r\n                              return (\r\n                                <RoomConfig {...prop} context={propContext} />\r\n                              );\r\n                            }}\r\n                          />\r\n                          {/* SMS */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/sms\"\r\n                            render={() => {\r\n                              return <Sms context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* Í∞ÄÍ≤©ÏÑ§Ï†ï */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/setPrice\"\r\n                            render={() => {\r\n                              return <SetPrice context={propContext} />;\r\n                            }}\r\n                          />\r\n                          {/* ÏòàÏïΩÎ™©Î°ù */}\r\n                          <Route\r\n                            exact\r\n                            path=\"/resvList\"\r\n                            render={() => {\r\n                              return <ResvList context={propContext} />;\r\n                            }}\r\n                          />\r\n                          <Route component={NoMatch} />\r\n                        </Switch>\r\n                      ) : (\r\n                        <div className=\"middleServer__starterBg\">\r\n                          <StarterModalWrap\r\n                            key={s4()}\r\n                            context={propContext as any}\r\n                            callBackStartStepEnd={callBackStartStepEnd}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      <Route component={NoMatch} />\r\n                    </Switch>\r\n                  </Fragment>\r\n                ) : (\r\n                  // Î°úÍ∑∏Ïù∏ ÏïàÌñàÏùÑÎïåÎßå\r\n                  <Switch>\r\n                    <Route\r\n                      exact\r\n                      path=\"/signUp\"\r\n                      render={() => {\r\n                        return <SignUp context={propContext} />;\r\n                      }}\r\n                    />\r\n                    <Login context={propContext} />\r\n                  </Switch>\r\n                );\r\n              }}\r\n            </Route>\r\n            {/* ‚Üì loayout page */}\r\n          </div>\r\n          {/* ‚Üì loayout Close */}\r\n        </div>\r\n      </Fragment>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default compose(\r\n  graphql(IS_LOGGED_IN, { name: \"IsLoggedIn\" }),\r\n  graphql(GET_USER_INFO, {\r\n    name: \"GetUserInfo\",\r\n    skip: ({ IsLoggedIn }: any) => {\r\n      if (IsLoggedIn && IsLoggedIn.auth) {\r\n        return !IsLoggedIn.auth.isLogIn;\r\n      }\r\n      return true;\r\n    }\r\n  }),\r\n  graphql(SELECTED_HOUSE, {\r\n    name: \"selectedHouse\"\r\n  })\r\n)(JDmiddleServer);\r\n"]},"metadata":{},"sourceType":"module"}